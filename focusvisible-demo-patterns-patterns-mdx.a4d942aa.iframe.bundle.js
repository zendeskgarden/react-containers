/*! For license information please see focusvisible-demo-patterns-patterns-mdx.a4d942aa.iframe.bundle.js.LICENSE.txt */
(self.webpackChunk_zendeskgarden_react_containers=self.webpackChunk_zendeskgarden_react_containers||[]).push([[6705,5043],{"./node_modules/@mdx-js/react/lib/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{R:()=>useMDXComponents,x:()=>MDXProvider});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const emptyComponents={},MDXContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(emptyComponents);function useMDXComponents(components){const contextComponents=react__WEBPACK_IMPORTED_MODULE_0__.useContext(MDXContext);return react__WEBPACK_IMPORTED_MODULE_0__.useMemo((function(){return"function"==typeof components?components(contextComponents):{...contextComponents,...components}}),[contextComponents,components])}function MDXProvider(properties){let allComponents;return allComponents=properties.disableParentContext?"function"==typeof properties.components?properties.components(emptyComponents):properties.components||emptyComponents:useMDXComponents(properties.components),react__WEBPACK_IMPORTED_MODULE_0__.createElement(MDXContext.Provider,{value:allComponents},properties.children)}},"./packages/focusvisible/demo/~patterns/patterns.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>MDXContent});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_home_circleci_project_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim_mjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mdx-js/react/lib/index.js"),_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/blocks/dist/index.mjs"),_patterns_stories__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/focusvisible/demo/~patterns/patterns.stories.tsx");function _createMdxContent(props){const _components={code:"code",h1:"h1",h2:"h2",p:"p",...(0,_home_circleci_project_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim_mjs__WEBPACK_IMPORTED_MODULE_2__.R)(),...props.components};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.W8,{of:_patterns_stories__WEBPACK_IMPORTED_MODULE_4__}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h1,{id:"patterns",children:"Patterns"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"selection",children:"Selection"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["Demonstrate ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"useSelection"})," working along with ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"useFocusVisible"}),"."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.Hl,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.gG,{of:_patterns_stories__WEBPACK_IMPORTED_MODULE_4__.Selection})})]})}function MDXContent(props={}){const{wrapper:MDXLayout}={...(0,_home_circleci_project_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim_mjs__WEBPACK_IMPORTED_MODULE_2__.R)(),...props.components};return MDXLayout?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(MDXLayout,{...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_createMdxContent,{...props})}):_createMdxContent(props)}},"./node_modules/@storybook/blocks/dist sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./node_modules/@storybook/blocks/dist sync recursive",module.exports=webpackEmptyContext},"./node_modules/@storybook/core/dist/components sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./node_modules/@storybook/core/dist/components sync recursive",module.exports=webpackEmptyContext},"./node_modules/@storybook/core/dist/theming sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./node_modules/@storybook/core/dist/theming sync recursive",module.exports=webpackEmptyContext},"./packages/focusvisible/demo/~patterns/patterns.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Selection:()=>Selection,__namedExportsOrder:()=>__namedExportsOrder,default:()=>patterns_stories});var react=__webpack_require__("./node_modules/react/index.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),classnames=(__webpack_require__("./node_modules/@storybook/react/dist/index.mjs"),__webpack_require__("./node_modules/classnames/index.js")),classnames_default=__webpack_require__.n(classnames),useFocusVisible=__webpack_require__("./packages/focusvisible/src/useFocusVisible.ts"),useSelection=__webpack_require__("./packages/selection/src/useSelection.ts");const SelectionStory=()=>{const values=["Item 1","Item 2","Item 3"],scope=(0,react.useRef)(null),{getGroupProps,getElementProps,selectedValue}=(0,useSelection.C)({values});return(0,useFocusVisible.Y)({scope}),react.createElement("ul",(0,esm_extends.A)({className:"flex"},getGroupProps(),{ref:scope}),values.map((value=>react.createElement("li",(0,esm_extends.A)({key:value,className:classnames_default()("border-0","border-blue-600","border-solid","mx-3","px-2","pt-1",{"border-b-3":value===selectedValue})},getElementProps({value})),value))))};SelectionStory.__docgenInfo={description:"",methods:[],displayName:"SelectionStory"};const patterns_stories={title:"Packages/FocusVisible/[patterns]"},Selection={render:args=>react.createElement(SelectionStory,args),name:"Selection"},__namedExportsOrder=["Selection"];Selection.parameters={...Selection.parameters,docs:{...Selection.parameters?.docs,source:{originalSource:"{\n  render: args => <SelectionStory {...args} />,\n  name: 'Selection'\n}",...Selection.parameters?.docs?.source}}}},"./node_modules/@storybook/react/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var _chunk_H7CJXHDS_mjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/react/dist/chunk-H7CJXHDS.mjs"),_storybook_global__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/@storybook/react/dist/chunk-XP5HYGXS.mjs"),__webpack_require__("@storybook/global")),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/index.js"),{window:globalWindow}=(__webpack_require__("storybook/internal/preview-api"),_storybook_global__WEBPACK_IMPORTED_MODULE_2__.global);globalWindow&&(globalWindow.STORYBOOK_ENV="react");_chunk_H7CJXHDS_mjs__WEBPACK_IMPORTED_MODULE_0__.IX},"./packages/focusvisible/src/useFocusVisible.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Y:()=>useFocusVisible});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const INPUT_TYPES_WHITE_LIST={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function useFocusVisible(_temp){let{scope,relativeDocument,className="garden-focus-visible",dataAttribute="data-garden-focus-visible"}=void 0===_temp?{}:_temp;if(!scope)throw new Error('Error: the useFocusVisible() hook requires a "scope" property');const hadKeyboardEvent=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!1),hadFocusVisibleRecently=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!1),hadFocusVisibleRecentlyTimeout=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{let environment=relativeDocument;environment||(environment=document);const isValidFocusTarget=el=>!!(el&&el!==scope.current&&"HTML"!==el.nodeName&&"BODY"!==el.nodeName&&"classList"in el&&"contains"in el.classList),isFocused=el=>!(!el||!el.classList.contains(className)&&!el.hasAttribute(dataAttribute)),addFocusVisibleClass=el=>{isFocused(el)||(el&&el.classList.add(className),el&&el.setAttribute(dataAttribute,"true"))},onKeyDown=e=>{e.metaKey||e.altKey||e.ctrlKey||(isValidFocusTarget(environment.activeElement)&&addFocusVisibleClass(environment.activeElement),hadKeyboardEvent.current=!0)},onPointerDown=()=>{hadKeyboardEvent.current=!1},onFocus=e=>{isValidFocusTarget(e.target)&&(hadKeyboardEvent.current||(el=>{const type=el.type,tagName=el.tagName;return!("INPUT"!==tagName||!INPUT_TYPES_WHITE_LIST[type]||el.readOnly)||"TEXTAREA"===tagName&&!el.readOnly||!!el.isContentEditable})(e.target))&&addFocusVisibleClass(e.target)},onBlur=e=>{var el;if(isValidFocusTarget(e.target)&&isFocused(e.target)){hadFocusVisibleRecently.current=!0,clearTimeout(hadFocusVisibleRecentlyTimeout.current);const timeoutId=setTimeout((()=>{hadFocusVisibleRecently.current=!1,clearTimeout(hadFocusVisibleRecentlyTimeout.current)}),100);hadFocusVisibleRecentlyTimeout.current=Number(timeoutId),(el=e.target).classList.remove(className),el.removeAttribute(dataAttribute)}},onInitialPointerMove=e=>{const nodeName=e.target.nodeName;nodeName&&"html"===nodeName.toLowerCase()||(hadKeyboardEvent.current=!1,removeInitialPointerMoveListeners())},removeInitialPointerMoveListeners=()=>{environment.removeEventListener("mousemove",onInitialPointerMove),environment.removeEventListener("mousedown",onInitialPointerMove),environment.removeEventListener("mouseup",onInitialPointerMove),environment.removeEventListener("pointermove",onInitialPointerMove),environment.removeEventListener("pointerdown",onInitialPointerMove),environment.removeEventListener("pointerup",onInitialPointerMove),environment.removeEventListener("touchmove",onInitialPointerMove),environment.removeEventListener("touchstart",onInitialPointerMove),environment.removeEventListener("touchend",onInitialPointerMove)},onVisibilityChange=()=>{"hidden"===environment.visibilityState&&hadFocusVisibleRecently.current&&(hadKeyboardEvent.current=!0)},currentScope=scope.current;if(environment&&currentScope)return environment.addEventListener("keydown",onKeyDown,!0),environment.addEventListener("mousedown",onPointerDown,!0),environment.addEventListener("pointerdown",onPointerDown,!0),environment.addEventListener("touchstart",onPointerDown,!0),environment.addEventListener("visibilitychange",onVisibilityChange,!0),environment.addEventListener("mousemove",onInitialPointerMove),environment.addEventListener("mousedown",onInitialPointerMove),environment.addEventListener("mouseup",onInitialPointerMove),environment.addEventListener("pointermove",onInitialPointerMove),environment.addEventListener("pointerdown",onInitialPointerMove),environment.addEventListener("pointerup",onInitialPointerMove),environment.addEventListener("touchmove",onInitialPointerMove),environment.addEventListener("touchstart",onInitialPointerMove),environment.addEventListener("touchend",onInitialPointerMove),currentScope&&currentScope.addEventListener("focus",onFocus,!0),currentScope&&currentScope.addEventListener("blur",onBlur,!0),()=>{environment.removeEventListener("keydown",onKeyDown),environment.removeEventListener("mousedown",onPointerDown),environment.removeEventListener("pointerdown",onPointerDown),environment.removeEventListener("touchstart",onPointerDown),environment.removeEventListener("visibilityChange",onVisibilityChange),removeInitialPointerMoveListeners(),currentScope&&currentScope.removeEventListener("focus",onFocus),currentScope&&currentScope.removeEventListener("blur",onBlur),clearTimeout(hadFocusVisibleRecentlyTimeout.current)}}),[relativeDocument,scope,className,dataAttribute])}},"./packages/selection/src/useSelection.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{C:()=>useSelection});var react=__webpack_require__("./node_modules/react/index.js"),getControlledValue=__webpack_require__("./packages/utilities/src/utils/getControlledValue.ts"),KeyboardEventValues=__webpack_require__("./packages/utilities/src/utils/KeyboardEventValues.ts"),composeEventHandlers=__webpack_require__("./packages/utilities/src/utils/composeEventHandlers.ts");const stateReducer=(state,action)=>{switch(action.type){case"END":case"HOME":case"FOCUS":case"INCREMENT":case"DECREMENT":return{...state,focusedValue:action.payload};case"MOUSE_SELECT":return{...state,selectedValue:action.payload,focusedValue:void 0};case"KEYBOARD_SELECT":return{...state,selectedValue:action.payload};case"EXIT_WIDGET":return{...state,focusedValue:void 0};default:return state}},useSelection=_ref=>{let{values,direction="horizontal",defaultFocusedValue=values[0],defaultSelectedValue,rtl,selectedValue,focusedValue,allowDefaultOnSelect=!1,onSelect,onFocus}=_ref;const isSelectedValueControlled=void 0!==selectedValue,isFocusedValueControlled=void 0!==focusedValue,refs=(0,react.useMemo)((()=>values.reduce(((all,value)=>(all[value]=(0,react.createRef)(),all)),{})),[values]),[state,dispatch]=(0,react.useReducer)(stateReducer,{selectedValue,focusedValue}),controlledFocusedValue=(0,getControlledValue.o)(focusedValue,state.focusedValue),controlledSelectedValue=(0,getControlledValue.o)(selectedValue,state.selectedValue);(0,react.useEffect)((()=>{if(void 0!==controlledFocusedValue){const targetRef=refs[controlledFocusedValue];targetRef?.current&&targetRef.current.focus()}}),[controlledFocusedValue]),(0,react.useEffect)((()=>{void 0===selectedValue&&void 0!==defaultSelectedValue&&(onSelect&&onSelect(defaultSelectedValue),isSelectedValueControlled||dispatch({type:"KEYBOARD_SELECT",payload:defaultSelectedValue}))}),[]);const getGroupProps=(0,react.useCallback)((function(_temp){let{role="group",...other}=void 0===_temp?{}:_temp;return{role:null===role?void 0:role,"data-garden-container-id":"containers.selection","data-garden-container-version":"storybook",...other}}),[]);return{focusedValue:controlledFocusedValue,selectedValue:controlledSelectedValue,getElementProps:_ref2=>{let{selectedAriaKey="aria-selected",onFocus:onFocusCallback,onKeyDown,onClick,value,...other}=_ref2;const isSelected=controlledSelectedValue===value,verticalDirection="vertical"===direction||"both"===direction,horizontalDirection="horizontal"===direction||"both"===direction;return{tabIndex:(void 0===controlledFocusedValue?isSelected:controlledFocusedValue===value)||void 0===controlledSelectedValue&&void 0===controlledFocusedValue&&value===defaultFocusedValue?0:-1,[selectedAriaKey]:selectedAriaKey?isSelected:void 0,ref:refs[value],onFocus:(0,composeEventHandlers.m)(onFocusCallback,(()=>{onFocus&&onFocus(value),!isFocusedValueControlled&&dispatch({type:"FOCUS",payload:value})})),onClick:(0,composeEventHandlers.m)(onClick,(()=>{onSelect&&onSelect(value),onFocus&&onFocus(value),!isSelectedValueControlled&&dispatch({type:"MOUSE_SELECT",payload:value})})),onKeyDown:(0,composeEventHandlers.m)(onKeyDown,(event=>{let nextItem,currentItem;currentItem=isFocusedValueControlled?values.find((id=>focusedValue===id)):values.find((id=>state.focusedValue===id));const onIncrement=()=>{const nextItemIndex=values.indexOf(currentItem)+1;nextItem=values[nextItemIndex],nextItem||(nextItem=values[0]),!isFocusedValueControlled&&dispatch({type:"INCREMENT",payload:nextItem}),onFocus&&onFocus(nextItem)},onDecrement=()=>{const nextItemIndex=values.indexOf(currentItem)-1;nextItem=values[nextItemIndex],nextItem||(nextItem=values[values.length-1]),!isFocusedValueControlled&&dispatch({type:"DECREMENT",payload:nextItem}),onFocus&&onFocus(nextItem)};if(!(event.ctrlKey||event.metaKey||event.shiftKey||event.altKey))if(event.key===KeyboardEventValues.R.UP&&verticalDirection||event.key===KeyboardEventValues.R.LEFT&&horizontalDirection)rtl&&horizontalDirection?onIncrement():onDecrement(),event.preventDefault();else if(event.key===KeyboardEventValues.R.DOWN&&verticalDirection||event.key===KeyboardEventValues.R.RIGHT&&horizontalDirection)rtl&&horizontalDirection?onDecrement():onIncrement(),event.preventDefault();else if(event.key===KeyboardEventValues.R.HOME){const firstItem=values[0];!isFocusedValueControlled&&dispatch({type:"HOME",payload:firstItem}),onFocus&&onFocus(firstItem),event.preventDefault()}else if(event.key===KeyboardEventValues.R.END){const lastItem=values[values.length-1];!isFocusedValueControlled&&dispatch({type:"END",payload:lastItem}),onFocus&&onFocus(lastItem),event.preventDefault()}else event.key!==KeyboardEventValues.R.SPACE&&event.key!==KeyboardEventValues.R.ENTER||(onSelect&&onSelect(value),!isSelectedValueControlled&&dispatch({type:"KEYBOARD_SELECT",payload:value}),!allowDefaultOnSelect&&event.preventDefault())})),onBlur:event=>{0===event.target.tabIndex&&(dispatch({type:"EXIT_WIDGET"}),onFocus&&onFocus())},...other}},getGroupProps}}},"./packages/utilities/src/utils/KeyboardEventValues.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{R:()=>KEYS});const KEYS={ALT:"Alt",ASTERISK:"*",BACKSPACE:"Backspace",COMMA:",",DELETE:"Delete",DOWN:"ArrowDown",END:"End",ENTER:"Enter",ESCAPE:"Escape",HOME:"Home",LEFT:"ArrowLeft",NUMPAD_ADD:"Add",NUMPAD_DECIMAL:"Decimal",NUMPAD_DIVIDE:"Divide",NUMPAD_ENTER:"Enter",NUMPAD_MULTIPLY:"Multiply",NUMPAD_SUBTRACT:"Subtract",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",PERIOD:".",RIGHT:"ArrowRight",SHIFT:"Shift",SPACE:" ",TAB:"Tab",UNIDENTIFIED:"Unidentified",UP:"ArrowUp"}},"./packages/utilities/src/utils/composeEventHandlers.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function composeEventHandlers(){for(var _len=arguments.length,fns=new Array(_len),_key=0;_key<_len;_key++)fns[_key]=arguments[_key];return function(event){for(var _len2=arguments.length,args=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)args[_key2-1]=arguments[_key2];return fns.some((fn=>(fn&&fn(event,...args),event&&event.defaultPrevented)))}}__webpack_require__.d(__webpack_exports__,{m:()=>composeEventHandlers})},"./packages/utilities/src/utils/getControlledValue.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function getControlledValue(){for(var _len=arguments.length,values=new Array(_len),_key=0;_key<_len;_key++)values[_key]=arguments[_key];for(const value of values)if(void 0!==value)return value}__webpack_require__.d(__webpack_exports__,{o:()=>getControlledValue})},"./node_modules/classnames/index.js":(module,exports)=>{var __WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){for(var classes="",i=0;i<arguments.length;i++){var arg=arguments[i];arg&&(classes=appendClass(classes,parseValue(arg)))}return classes}function parseValue(arg){if("string"==typeof arg||"number"==typeof arg)return arg;if("object"!=typeof arg)return"";if(Array.isArray(arg))return classNames.apply(null,arg);if(arg.toString!==Object.prototype.toString&&!arg.toString.toString().includes("[native code]"))return arg.toString();var classes="";for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&(classes=appendClass(classes,key));return classes}function appendClass(value,newClass){return newClass?value?value+" "+newClass:value+newClass:value}module.exports?(classNames.default=classNames,module.exports=classNames):void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()}}]);